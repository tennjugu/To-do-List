(()=>{"use strict";(()=>{let e=document.createElement("table");e.id="taskTable";let t=document.createElement("thead"),n=document.createElement("tr"),o=document.createElement("th");o.textContent="Title",n.appendChild(o);let d=document.createElement("th");d.textContent="Description",n.appendChild(d);let i=document.createElement("th");i.textContent="Date",n.appendChild(i);let c=document.createElement("th");c.textContent="Time",n.appendChild(c);let l=document.createElement("th");l.textContent="Priority",n.appendChild(l),t.appendChild(n);let r=document.createElement("tbody");e.appendChild(t),e.appendChild(r),document.querySelector(".main").appendChild(e)})();let e=[];function t(e,t,n,o,d){this.title=e,this.description=t,this.dueDate=n,this.time=o,this.priority=d}function n(){let t=document.querySelector("tbody");t.innerHTML="";for(let n=0;n<e.length;n++){const o=e[n],d=document.createElement("tr");d.classList.add("todo-details");const i=document.createElement("td");i.classList.add("todo-title"),i.textContent=`${o.title}`,d.appendChild(i);const c=document.createElement("td");c.classList.add("todo-Description"),c.textContent=`${o.description}`,d.appendChild(c);const l=document.createElement("td");l.classList.add("todo-DueDate"),l.textContent=new Date(`${o.dueDate}`).toDateString(),d.appendChild(l);const r=document.createElement("td");r.classList.add("todo-Time"),r.textContent=`${o.time}`,d.appendChild(r);const a=document.createElement("td");a.classList.add("todo-Priority"),a.textContent=`${o.priority}`,d.appendChild(a),t.appendChild(d)}}function o(){const t=JSON.parse(localStorage.getItem("allTasks"))||[];e=t}o(),n();const d=()=>{const o=document.querySelector(".main"),d=document.querySelector("#taskTable"),i=document.createElement("form");i.id="taskForm";const c=function(){const e=document.createElement("span");return e.id="cancel",e.innerText="âœ–",e}(),l=function(){const e=document.createElement("label");return e.for="title",e.textContent="Title:",e}(),r=function(){const e=document.createElement("input");return e.type="text",e.id="title",e.name="title",e.required=!0,e}(),a=function(){const e=document.createElement("label");return e.for="description",e.textContent="Description:",e}(),u=function(){const e=document.createElement("textarea");return e.id="description",e.name="description",e.rows="4",e.maxLength="200",e.required=!0,e}(),m=function(){const e=document.createElement("label");return e.for="dueDate",e.textContent="Due Date:",e}(),s=function(){const e=document.createElement("input");return e.type="date",e.id="dueDate",e.name="dueDate",e.required=!0,e}(),p=function(){const e=document.createElement("label");return e.for="time",e.textContent="Time:",e}(),C=function(){const e=document.createElement("input");return e.type="time",e.id="time",e.name="time",e.required=!0,e}(),h=function(){const e=document.createElement("label");return e.for="priority",e.textContent="Priority:",e}(),E=function(){const e=document.createElement("select");e.id="priority",e.name="priority",e.required=!0;const t=document.createElement("option");t.value="high",t.textContent="High";const n=document.createElement("option");n.value="medium",n.textContent="Medium";const o=document.createElement("option");o.value="low",o.textContent="Low";const d=document.createElement("option");return d.value="none",d.textContent="none",d.selected="true",e.appendChild(t),e.appendChild(n),e.appendChild(o),e.appendChild(d),e}(),y=function(){const e=document.createElement("button");return e.id="formBtn",e.type="submit",e.textContent="Add Task",e}();i.appendChild(c),i.appendChild(l),i.appendChild(r),i.appendChild(a),i.appendChild(u),i.appendChild(m),i.appendChild(s),i.appendChild(p),i.appendChild(C),i.appendChild(h),i.appendChild(E),i.appendChild(y),o.appendChild(i),i.addEventListener("submit",(function(c){c.preventDefault(),function(){let o=new t(document.querySelector("#title").value,document.querySelector("#description").value,document.querySelector("#dueDate").value,document.querySelector("#time").value,document.querySelector("#priority").value);e.push(o),e.sort(((e,t)=>{const n=e.dueDate,o=t.dueDate;if(n<o)return-1;if(n>o)return 1;if(n===o){const n=e.time,o=t.time;return n<o?-1:n>o?1:0}})),localStorage.setItem("allTasks",JSON.stringify(e)),n()}(),d.style.display="inline-table",i.reset(),o.removeChild(i)})),c.addEventListener("click",(()=>{o.removeChild(i),d.style.display="inline-table",i.reset()}))};o(),function(){const e=document.querySelector(".main"),t=document.querySelector("#taskTable");document.querySelector(".addtask").addEventListener("click",(()=>{const n=document.getElementById("taskForm");n&&e.removeChild(n),e.contains(t)&&(t.style.display="none",d())}))}()})();